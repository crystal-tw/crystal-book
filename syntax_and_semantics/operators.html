
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Operators · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="visibility.html" />
    
    
    <link rel="prev" href="default_values_named_arguments_splats_tuples_and_overloading.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    簡介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../getting_started/">
            
                <a href="../getting_started/">
            
                    
                    讓我們開始吧！
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../getting_started/http_server.html">
            
                <a href="../getting_started/http_server.html">
            
                    
                    HTTP 伺服器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../getting_started/cli.html">
            
                <a href="../getting_started/cli.html">
            
                    
                    命令列應用程式
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../the_shards_command/">
            
                <a href="../the_shards_command/">
            
                    
                    The shards command
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../using_the_compiler/">
            
                <a href="../using_the_compiler/">
            
                    
                    使用編譯器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="./">
            
                <a href="./">
            
                    
                    語法及語意
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="comments.html">
            
                <a href="comments.html">
            
                    
                    註解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="literals.html">
            
                <a href="literals.html">
            
                    
                    常值 (Literals)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.1" data-path="literals/nil.html">
            
                <a href="literals/nil.html">
            
                    
                    空值 (Nil)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.2" data-path="literals/bool.html">
            
                <a href="literals/bool.html">
            
                    
                    布林值 (Bool)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.3" data-path="literals/integers.html">
            
                <a href="literals/integers.html">
            
                    
                    整數 (Integers)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.4" data-path="literals/floats.html">
            
                <a href="literals/floats.html">
            
                    
                    浮點數 (Floats)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.5" data-path="literals/char.html">
            
                <a href="literals/char.html">
            
                    
                    字元 (Char)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.6" data-path="literals/string.html">
            
                <a href="literals/string.html">
            
                    
                    字串 (String)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.7" data-path="literals/symbol.html">
            
                <a href="literals/symbol.html">
            
                    
                    符號 (Symbol)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.8" data-path="literals/array.html">
            
                <a href="literals/array.html">
            
                    
                    陣列 (Array)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.9" data-path="literals/hash.html">
            
                <a href="literals/hash.html">
            
                    
                    雜湊 (Hash)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.10" data-path="literals/range.html">
            
                <a href="literals/range.html">
            
                    
                    範圍 (Range)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.11" data-path="literals/regex.html">
            
                <a href="literals/regex.html">
            
                    
                    正規表示式 (Regex)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.12" data-path="literals/tuple.html">
            
                <a href="literals/tuple.html">
            
                    
                    序組 (Tuple)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.13" data-path="literals/named_tuple.html">
            
                <a href="literals/named_tuple.html">
            
                    
                    命名序組 (NamedTuple)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.14" data-path="literals/proc.html">
            
                <a href="literals/proc.html">
            
                    
                    程序 (Proc)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="assignment.html">
            
                <a href="assignment.html">
            
                    
                    賦值
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="local_variables.html">
            
                <a href="local_variables.html">
            
                    
                    區域變數
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="control_expressions.html">
            
                <a href="control_expressions.html">
            
                    
                    Control expressions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.5.1" data-path="truthy_and_falsey_values.html">
            
                <a href="truthy_and_falsey_values.html">
            
                    
                    Truthy and falsey values
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2" data-path="if.html">
            
                <a href="if.html">
            
                    
                    if
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.5.2.1" data-path="as_a_suffix.html">
            
                <a href="as_a_suffix.html">
            
                    
                    As a suffix
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2.2" data-path="as_an_expression.html">
            
                <a href="as_an_expression.html">
            
                    
                    As an expression
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2.3" data-path="ternary_if.html">
            
                <a href="ternary_if.html">
            
                    
                    Ternary if
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2.4" data-path="if_var.html">
            
                <a href="if_var.html">
            
                    
                    if var
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2.5" data-path="if_varis_a.html">
            
                <a href="if_varis_a.html">
            
                    
                    if var.is_a?(...)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2.6" data-path="if_varresponds_to.html">
            
                <a href="if_varresponds_to.html">
            
                    
                    if var.responds_to?(...)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2.7" data-path="if_var_nil.html">
            
                <a href="if_var_nil.html">
            
                    
                    if var.nil?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2.8" data-path="not.html">
            
                <a href="not.html">
            
                    
                    if !
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.5.3" data-path="unless.html">
            
                <a href="unless.html">
            
                    
                    unless
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.4" data-path="case.html">
            
                <a href="case.html">
            
                    
                    case
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.5" data-path="while.html">
            
                <a href="while.html">
            
                    
                    while
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.5.5.1" data-path="break.html">
            
                <a href="break.html">
            
                    
                    break
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.5.2" data-path="next.html">
            
                <a href="next.html">
            
                    
                    next
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.5.6" data-path="until.html">
            
                <a href="until.html">
            
                    
                    until
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.7" data-path="and.html">
            
                <a href="and.html">
            
                    
                    &&
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.8" data-path="or.html">
            
                <a href="or.html">
            
                    
                    ||
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="requiring_files.html">
            
                <a href="requiring_files.html">
            
                    
                    引入檔案
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="types_and_methods.html">
            
                <a href="types_and_methods.html">
            
                    
                    Types and methods
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.7.1" data-path="everything_is_an_object.html">
            
                <a href="everything_is_an_object.html">
            
                    
                    Everything is an object
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.2" data-path="the_program.html">
            
                <a href="the_program.html">
            
                    
                    The Program
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3" data-path="classes_and_methods.html">
            
                <a href="classes_and_methods.html">
            
                    
                    Classes and methods
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.7.3.1" data-path="new_initialize_and_allocate.html">
            
                <a href="new_initialize_and_allocate.html">
            
                    
                    new, initialize and allocate
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.2" data-path="methods_and_instance_variables.html">
            
                <a href="methods_and_instance_variables.html">
            
                    
                    Methods and instance variables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.3" data-path="type_inference.html">
            
                <a href="type_inference.html">
            
                    
                    型別推導
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.4" data-path="union_types.html">
            
                <a href="union_types.html">
            
                    
                    Union types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.5" data-path="overloading.html">
            
                <a href="overloading.html">
            
                    
                    Overloading
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.6" data-path="default_and_named_arguments.html">
            
                <a href="default_and_named_arguments.html">
            
                    
                    Default values and named arguments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.7" data-path="splats_and_tuples.html">
            
                <a href="splats_and_tuples.html">
            
                    
                    Splats and tuples
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.8" data-path="type_restrictions.html">
            
                <a href="type_restrictions.html">
            
                    
                    Type restrictions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.9" data-path="return_types.html">
            
                <a href="return_types.html">
            
                    
                    Return types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.10" data-path="default_values_named_arguments_splats_tuples_and_overloading.html">
            
                <a href="default_values_named_arguments_splats_tuples_and_overloading.html">
            
                    
                    Method arguments
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.5.7.3.11" data-path="operators.html">
            
                <a href="operators.html">
            
                    
                    Operators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.12" data-path="visibility.html">
            
                <a href="visibility.html">
            
                    
                    Visibility
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.13" data-path="inheritance.html">
            
                <a href="inheritance.html">
            
                    
                    Inheritance
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.7.3.13.1" data-path="virtual_and_abstract_types.html">
            
                <a href="virtual_and_abstract_types.html">
            
                    
                    Virtual and abstract types
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.14" data-path="class_methods.html">
            
                <a href="class_methods.html">
            
                    
                    Class methods
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.15" data-path="class_variables.html">
            
                <a href="class_variables.html">
            
                    
                    Class variables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3.16" data-path="finalize.html">
            
                <a href="finalize.html">
            
                    
                    finalize
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.7.4" data-path="modules.html">
            
                <a href="modules.html">
            
                    
                    Modules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.5" data-path="generics.html">
            
                <a href="generics.html">
            
                    
                    Generics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.6" data-path="structs.html">
            
                <a href="structs.html">
            
                    
                    Structs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.7" data-path="constants.html">
            
                <a href="constants.html">
            
                    
                    Constants
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.8" data-path="enum.html">
            
                <a href="enum.html">
            
                    
                    Enums
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.9" data-path="blocks_and_procs.html">
            
                <a href="blocks_and_procs.html">
            
                    
                    Blocks and Procs
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.7.9.1" data-path="capturing_blocks.html">
            
                <a href="capturing_blocks.html">
            
                    
                    Capturing blocks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.9.2" data-path="proc_literal.html">
            
                <a href="proc_literal.html">
            
                    
                    Proc literal
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.9.3" data-path="block_forwarding.html">
            
                <a href="block_forwarding.html">
            
                    
                    Block forwarding
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.9.4" data-path="closures.html">
            
                <a href="closures.html">
            
                    
                    Closures
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.7.10" data-path="alias.html">
            
                <a href="alias.html">
            
                    
                    alias
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="exception_handling.html">
            
                <a href="exception_handling.html">
            
                    
                    Exception handling
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="type_grammar.html">
            
                <a href="type_grammar.html">
            
                    
                    型別語法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="type_reflection.html">
            
                <a href="type_reflection.html">
            
                    
                    Type reflection
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.10.1" data-path="is_a.html">
            
                <a href="is_a.html">
            
                    
                    is_a?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10.2" data-path="nil_question.html">
            
                <a href="nil_question.html">
            
                    
                    nil?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10.3" data-path="responds_to.html">
            
                <a href="responds_to.html">
            
                    
                    responds_to?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10.4" data-path="as.html">
            
                <a href="as.html">
            
                    
                    as
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10.5" data-path="as_question.html">
            
                <a href="as_question.html">
            
                    
                    as?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10.6" data-path="typeof.html">
            
                <a href="typeof.html">
            
                    
                    typeof
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.11" data-path="macros.html">
            
                <a href="macros.html">
            
                    
                    Macros
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.11.1" data-path="macros/macro_methods.html">
            
                <a href="macros/macro_methods.html">
            
                    
                    Macro methods
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.11.2" data-path="macros/hooks.html">
            
                <a href="macros/hooks.html">
            
                    
                    Hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.11.3" data-path="macros/fresh_variables.html">
            
                <a href="macros/fresh_variables.html">
            
                    
                    Fresh variables
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.12" data-path="annotations.html">
            
                <a href="annotations.html">
            
                    
                    Annotations
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.12.1" data-path="annotations/built_in_annotations.html">
            
                <a href="annotations/built_in_annotations.html">
            
                    
                    Built-in annotations
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.13" data-path="low_level_primitives.html">
            
                <a href="low_level_primitives.html">
            
                    
                    Low-level primitives
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.13.1" data-path="pointerof.html">
            
                <a href="pointerof.html">
            
                    
                    pointerof
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13.2" data-path="sizeof.html">
            
                <a href="sizeof.html">
            
                    
                    sizeof
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13.3" data-path="instance_sizeof.html">
            
                <a href="instance_sizeof.html">
            
                    
                    instance_sizeof
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13.4" data-path="offsetof.html">
            
                <a href="offsetof.html">
            
                    
                    offsetof
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13.5" data-path="declare_var.html">
            
                <a href="declare_var.html">
            
                    
                    Uninitialized variable declaration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.14" data-path="compile_time_flags.html">
            
                <a href="compile_time_flags.html">
            
                    
                    Compile-time flags
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.14.1" data-path="cross-compilation.html">
            
                <a href="cross-compilation.html">
            
                    
                    Cross-compilation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.15" data-path="c_bindings/">
            
                <a href="c_bindings/">
            
                    
                    C bindings
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.15.1" data-path="c_bindings/lib.html">
            
                <a href="c_bindings/lib.html">
            
                    
                    lib
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.15.2" data-path="c_bindings/fun.html">
            
                <a href="c_bindings/fun.html">
            
                    
                    fun
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.15.2.1" data-path="c_bindings/out.html">
            
                <a href="c_bindings/out.html">
            
                    
                    out
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.15.2.2" data-path="c_bindings/to_unsafe.html">
            
                <a href="c_bindings/to_unsafe.html">
            
                    
                    to_unsafe
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.15.3" data-path="c_bindings/struct.html">
            
                <a href="c_bindings/struct.html">
            
                    
                    struct
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.15.4" data-path="c_bindings/union.html">
            
                <a href="c_bindings/union.html">
            
                    
                    union
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.15.5" data-path="c_bindings/enum.html">
            
                <a href="c_bindings/enum.html">
            
                    
                    enum
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.15.6" data-path="c_bindings/variables.html">
            
                <a href="c_bindings/variables.html">
            
                    
                    Variables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.15.7" data-path="c_bindings/constants.html">
            
                <a href="c_bindings/constants.html">
            
                    
                    Constants
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.15.8" data-path="c_bindings/type.html">
            
                <a href="c_bindings/type.html">
            
                    
                    type
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.15.9" data-path="c_bindings/alias.html">
            
                <a href="c_bindings/alias.html">
            
                    
                    alias
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.15.10" data-path="c_bindings/callbacks.html">
            
                <a href="c_bindings/callbacks.html">
            
                    
                    Callbacks
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.16" data-path="unsafe.html">
            
                <a href="unsafe.html">
            
                    
                    Unsafe code
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../conventions/">
            
                <a href="../conventions/">
            
                    
                    使用慣例
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../conventions/coding_style.html">
            
                <a href="../conventions/coding_style.html">
            
                    
                    Coding style
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../conventions/documenting_code.html">
            
                <a href="../conventions/documenting_code.html">
            
                    
                    撰寫文件
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../database/">
            
                <a href="../database/">
            
                    
                    Database
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../database/connection.html">
            
                <a href="../database/connection.html">
            
                    
                    Connection
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../database/connection_pool.html">
            
                <a href="../database/connection_pool.html">
            
                    
                    Connection pool
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../database/transactions.html">
            
                <a href="../database/transactions.html">
            
                    
                    Transactions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../guides/">
            
                <a href="../guides/">
            
                    
                    Guides
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../guides/performance.html">
            
                <a href="../guides/performance.html">
            
                    
                    Performance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../guides/concurrency.html">
            
                <a href="../guides/concurrency.html">
            
                    
                    Concurrency
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../guides/testing.html">
            
                <a href="../guides/testing.html">
            
                    
                    Testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../guides/writing_shards.html">
            
                <a href="../guides/writing_shards.html">
            
                    
                    Writing Shards
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.4.1" data-path="../guides/hosting/github.html">
            
                <a href="../guides/hosting/github.html">
            
                    
                    Hosting on GitHub
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.2" data-path="../guides/hosting/gitlab.html">
            
                <a href="../guides/hosting/gitlab.html">
            
                    
                    Hosting on GitLab
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="../guides/continuous_integration.html">
            
                <a href="../guides/continuous_integration.html">
            
                    
                    Continuous Integration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.5.1" data-path="../guides/ci/travis.html">
            
                <a href="../guides/ci/travis.html">
            
                    
                    Using Travis CI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.2" data-path="../guides/ci/circleci.html">
            
                <a href="../guides/ci/circleci.html">
            
                    
                    Using CircleCI
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Operators</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="operators">Operators</h1>
<p>Crystal supports a number of operators, with one, two or three operands.</p>
<p>Operator expressions are actually parsed as method calls. For example <code>a + b</code>
is semantically equivalent to <code>a.+(b)</code>, a call to method <code>+</code> on <code>a</code> with
argument <code>b</code>.</p>
<p>There are however some special rules regarding operator syntax:</p>
<ul>
<li>The dot (<code>.</code>) usually put between receiver and method name
(i.e. the <em>operator</em>) can be omitted.</li>
<li>Chained sequences of operator calls are restructured by the compiler in order
to implement <a href="#operator-precedence">operator precedence</a>.
Enforcing operator precedence makes sure that an expression such as
<code>1 * 2 + 3 * 4</code> is parsed as <code>(1 * 2) + (2 * 3)</code> to honour regular math rules.</li>
<li>Regular method names must start with a letter or underscore, but operators
only consist of special characters. Any method not starting with a letter or
underscore is an operator  method.</li>
<li>Available operators are whitelisted in the compiler (see
<a href="#list-of-operators">List of Operators</a> below) which allows symbol-only method
names and treats them as operators, including their precedence rules.</li>
</ul>
<p>Operators are implemented like any regular method, and the standard library
offers many implementations, for example for math expressions.</p>
<h2 id="defining-operator-methods">Defining operator methods</h2>
<p>Most operators can be implemented as regular methods.</p>
<p>One can assign any meaning to the operators, but it is advisable to stay within
similar semantics to the generic operator meaning to avoid cryptic code that is
confusing and behaves unexpectedly.</p>
<p>A few operators are defined directly by the compiler and cannot be redefined
in user code. Examples for this are the inversion operator <code>!</code>, the assignment
operator <code>=</code>, <a href="#combined-assignments">combined assignment operators</a> such as
<code>||=</code> and <a href="#range">range operators</a>. Whether a method can be redefined is
indicated by the colum <em>Overloadable</em> in the below operator tables.</p>
<h3 id="unary-operators">Unary operators</h3>
<p>Unary operators are written in prefix notation and have only a single operand.
Thus, a method implementation receives no arguments and only operates on <code>self</code>.</p>
<p>The following example demonstrates the <code>Vector2</code> type as a two-dimensional
vector with a unary operator method <code>-</code> for vector inversion.</p>
<pre><code class="lang-crystal"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Vector2</span></span>
  getter x, y

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initialize</span></span>(@x : Int32, @y : Int32)
  <span class="hljs-keyword">end</span>

  <span class="hljs-comment"># Unary operator. Returns the inverted vector to `self`.</span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">-</span></span> : <span class="hljs-keyword">self</span>
    Vector2.new(-x, -y)
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

v1 = Vector2.new(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)
-v1 <span class="hljs-comment"># =&gt; Vector2(@x=-1, @y=-2)</span>
</code></pre>
<h2 id="binary-operators">Binary operators</h2>
<p>Binary operators have two operands. Thus, a method implementation receives
exactly one argument representing the second operand. The first operand is the
receiver <code>self</code>.</p>
<p>The following example demonstrates the <code>Vector2</code> type as a two-dimensional
vector with a binary operator method <code>+</code> for vector addition.</p>
<pre><code class="lang-crystal"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Vector2</span></span>
  getter x, y

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initialize</span></span>(@x : Int32, @y : Int32)
  <span class="hljs-keyword">end</span>

  <span class="hljs-comment"># Binary operator. Returns *other* added to `self`.</span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">+</span></span>(other : <span class="hljs-keyword">self</span>) : <span class="hljs-keyword">self</span>
    Vector2.new(x + other.x, y + other.y)
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

v1 = Vector2.new(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)
v2 = Vector2.new(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)
v1 + v2 <span class="hljs-comment"># =&gt; Vector2(@x=4, @y=6)</span>
</code></pre>
<p>Per convention, the return type of a binary operator should be the type of the
first operand (the receiver), so that <code>typeof(a &lt;op&gt; b) == typeof(a)</code>.
Otherwise the assignment operator (<code>a &lt;op&gt;= b</code>) would unintentionally change the
type of <code>a</code>.
There can be reasonable exceptions though. For example in the standard library
the float division operator <code>/</code> on integer types always returns <code>Float64</code>,
because the quotient must not be limited to the value range of integers.</p>
<h2 id="ternary-operators">Ternary operators</h2>
<p>The <a href="ternary_if.html">conditional operator (<code>? :</code>)</a> is the only ternary
operator. It not parsed as a method, and its meaning cannot be changed.
The compiler transforms it to an <code>if</code> expression.</p>
<h2 id="operator-precedence">Operator Precedence</h2>
<p>This list is sorted by precedence, so upper entries bind stronger than lower
ones.</p>
<table>
<thead>
<tr>
<th>Category</th>
<th>Operators</th>
</tr>
</thead>
<tbody>
<tr>
<td>Index accessors</td>
<td><code>[]</code>, <code>[]?</code></td>
</tr>
<tr>
<td>Unary</td>
<td><code>+</code>, <code>&amp;+</code>, <code>-</code>, <code>&amp;-</code>, <code>!</code>, <code>~</code>, <code>*</code>, <code>**</code></td>
</tr>
<tr>
<td>Exponential</td>
<td><code>**</code>, <code>&amp;**</code></td>
</tr>
<tr>
<td>Multiplicative</td>
<td><code>*</code>, <code>&amp;*</code>, <code>/</code>, <code>//</code>, <code>%</code></td>
</tr>
<tr>
<td>Additive</td>
<td><code>+</code>, <code>&amp;+</code>, <code>-</code>, <code>&amp;-</code></td>
</tr>
<tr>
<td>Shift</td>
<td><code>&lt;&lt;</code>, <code>&gt;&gt;</code></td>
</tr>
<tr>
<td>Binary AND</td>
<td><code>&amp;</code></td>
</tr>
<tr>
<td>Binary OR/XOR</td>
<td><code>|</code>,<code>^</code></td>
</tr>
<tr>
<td>Equality</td>
<td><code>==</code>, <code>!=</code>, <code>=~</code>, <code>!~</code>, <code>===</code></td>
</tr>
<tr>
<td>Comparison</td>
<td><code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;=&gt;</code></td>
</tr>
<tr>
<td>Logical AND</td>
<td><code>&amp;&amp;</code></td>
</tr>
<tr>
<td>Logical OR</td>
<td><code>||</code></td>
</tr>
<tr>
<td>Range</td>
<td><code>..</code>, <code>...</code></td>
</tr>
<tr>
<td>Conditional</td>
<td><code>?:</code></td>
</tr>
<tr>
<td>Assignment</td>
<td><code>=</code>, <code>[]=</code>, <code>+=</code>, <code>&amp;+=</code>, <code>-=</code>, <code>&amp;-=</code>, <code>*=</code>, <code>&amp;*=</code>, <code>/=</code>, <code>//=</code>, <code>%=</code>, <code>|=</code>, <code>&amp;=</code>,<code>^=</code>,<code>**=</code>,<code>&lt;&lt;=</code>,<code>&gt;&gt;=</code>, <code>||=</code>, <code>&amp;&amp;=</code></td>
</tr>
</tbody>
</table>

<h2 id="list-of-operators">List of operators</h2>
<h3 id="arithmetic-operators">Arithmetic operators</h3>
<h4 id="unary">Unary</h4>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
<th>Overloadable</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>+</code></td>
<td>positive</td>
<td><code>+1</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>&amp;+</code></td>
<td>wrapping positive</td>
<td><code>&amp;+1</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>-</code></td>
<td>negative</td>
<td><code>-1</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>&amp;-</code></td>
<td>wrapping negative</td>
<td><code>&amp;-1</code></td>
<td>yes</td>
</tr>
</tbody>
</table>
<h4 id="multiplicative">Multiplicative</h4>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
<th>Overloadable</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>**</code></td>
<td>exponentiation</td>
<td><code>1 ** 2</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>&amp;**</code></td>
<td>wrapping exponentiation</td>
<td><code>1 &amp;** 2</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>*</code></td>
<td>multiplication</td>
<td><code>1 * 2</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>&amp;*</code></td>
<td>wrapping multiplication</td>
<td><code>1 &amp;* 2</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>/</code></td>
<td>division</td>
<td><code>1 / 2</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>//</code></td>
<td>floor division</td>
<td><code>1 // 2</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>%</code></td>
<td>modulus</td>
<td><code>1 % 2</code></td>
<td>yes</td>
</tr>
</tbody>
</table>
<h4 id="additive">Additive</h4>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
<th>Overloadable</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>+</code></td>
<td>addition</td>
<td><code>1 + 2</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>&amp;+</code></td>
<td>wrapping addition</td>
<td><code>1 &amp;+ 2</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>-</code></td>
<td>subtraction</td>
<td><code>1 - 2</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>&amp;-</code></td>
<td>wrapping subtraction</td>
<td><code>1 &amp;- 2</code></td>
<td>yes</td>
</tr>
</tbody>
</table>
<h3 id="other-unary-operators">Other unary operators</h3>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
<th>Overloadable</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>!</code></td>
<td>inversion</td>
<td><code>!true</code></td>
<td>no</td>
</tr>
<tr>
<td><code>~</code></td>
<td>binary complement</td>
<td><code>~1</code></td>
<td>yes</td>
</tr>
</tbody>
</table>
<h3 id="shifts">Shifts</h3>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
<th>Overloadable</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;&lt;</code></td>
<td>shift left, append</td>
<td><code>1 &lt;&lt; 2</code>, <code>STDOUT &lt;&lt; &quot;foo&quot;</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>&gt;&gt;</code></td>
<td>shift right</td>
<td><code>1 &gt;&gt; 2</code></td>
<td>yes</td>
</tr>
</tbody>
</table>
<h3 id="binary">Binary</h3>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
<th>Overloadable</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&amp;</code></td>
<td>binary AND</td>
<td><code>1 &amp; 2</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>|</code></td>
<td>binary OR</td>
<td><code>1 | 2</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>^</code></td>
<td>binary XOR</td>
<td><code>1 ^ 2</code></td>
<td>yes</td>
</tr>
</tbody>
</table>

<h3 id="equality">Equality</h3>
<p>Three base operators test equality:</p>
<ul>
<li><code>==</code>: Checks whether the values of the operands are equal</li>
<li><code>=~</code>: Checks whether the value of the first operand matches the value of the
second operand with pattern matching.</li>
<li><code>===</code>: Checks whether the left hand operand matches the right hand operand in
<a href="case.html">case equality</a>. This operator is applied in <code>case ... when</code>
conditions.</li>
</ul>
<p>The first two operators also have inversion operators (<code>!=</code> and <code>!~</code>) whose
semantical intention is just the inverse of the base operator: <code>a != b</code> is
supposed to be equivalent to <code>!(a == b)</code> and <code>a !~ b</code> to <code>!(a =~ b)</code>.
Nevertheless, these inversions can be defined with a custom implementation. This
can be useful for example to improve performance (non-equality can often be
proven faster than equality).</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
<th>Overloadable</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>==</code></td>
<td>equals</td>
<td><code>1 == 2</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>!=</code></td>
<td>not equals</td>
<td><code>1 != 2</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>=~</code></td>
<td>pattern match</td>
<td><code>&quot;foo&quot; =~ /fo/</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>!~</code></td>
<td>no pattern match</td>
<td><code>&quot;foo&quot; !~ /fo/</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>===</code></td>
<td><a href="case.html">case equality</a></td>
<td><code>/foo/ === &quot;foo&quot;</code></td>
<td>yes</td>
</tr>
</tbody>
</table>
<h3 id="comparison">Comparison</h3>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
<th>Overloadable</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;</code></td>
<td>less</td>
<td><code>1 &lt; 2</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>&lt;=</code></td>
<td>less or equal</td>
<td><code>1 &lt;= 2</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>&gt;</code></td>
<td>greater</td>
<td><code>1 &gt; 2</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>&gt;=</code></td>
<td>greater or equal</td>
<td><code>1 &gt;= 2</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>&lt;=&gt;</code></td>
<td>comparison</td>
<td><code>1 &lt;=&gt; 2</code></td>
<td>yes</td>
</tr>
</tbody>
</table>
<h3 id="logical">Logical</h3>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
<th>Overloadable</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&amp;&amp;</code></td>
<td><a href="and.html">logical AND</a></td>
<td><code>true &amp;&amp; false</code></td>
<td>no</td>
</tr>
<tr>
<td><code>||</code></td>
<td><a href="or.html">logical OR</a></td>
<td><code>true || false</code></td>
<td>no</td>
</tr>
</tbody>
</table>

<h3 id="range">Range</h3>
<p>The range operators are used in <a href="literals/range.html">Range</a>
literals.</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
<th>Overloadable</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>..</code></td>
<td>range</td>
<td><code>1..10</code></td>
<td>no</td>
</tr>
<tr>
<td><code>...</code></td>
<td>exclusive range</td>
<td><code>1...10</code></td>
<td>no</td>
</tr>
</tbody>
</table>
<h3 id="splats">Splats</h3>
<p>Splat operators can only be used for destructing tuples in method arguments.
See <a href="splats_and_tuples.html">Splats and Tuples</a> for details.</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
<th>Overloadable</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>*</code></td>
<td>splat</td>
<td><code>*foo</code></td>
<td>no</td>
</tr>
<tr>
<td><code>**</code></td>
<td>double splat</td>
<td><code>**foo</code></td>
<td>no</td>
</tr>
</tbody>
</table>
<h3 id="conditional">Conditional</h3>
<p>The <a href="ternary_if.html">conditional operator (<code>? :</code>)</a> is internally rewritten to
an <code>if</code> expression by the compiler.</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
<th>Overloadable</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>? :</code></td>
<td>conditional</td>
<td><code>a == b ? c : d</code></td>
<td>no</td>
</tr>
</tbody>
</table>
<h3 id="assignments">Assignments</h3>
<p>The assignment operator <code>=</code> assigns the value of the second operand to the first
operand. The first operand is either a variable (in this case the operator can&apos;t
be redefined) or a call (in this case the operator can be redefined).
See <a href="assignment.html">assignment</a> for details.</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
<th>Overloadable</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>=</code></td>
<td>variable assignment</td>
<td><code>a = 1</code></td>
<td>no</td>
</tr>
<tr>
<td><code>=</code></td>
<td>call assignment</td>
<td><code>a.b = 1</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>[]=</code></td>
<td>index assignment</td>
<td><code>a[0] = 1</code></td>
<td>yes</td>
</tr>
</tbody>
</table>
<h3 id="combined-assignments">Combined assignments</h3>
<p>The assignment operator <code>=</code> is the basis for all operators that combine an
operator with assignment. The general form is <code>a &lt;op&gt;= b</code> and the compiler
transform that into <code>a = a &lt;op&gt; b</code>.</p>
<p>Exceptions to the general expansion formula are the logical operators:</p>
<ul>
<li><code>a ||= b</code> transforms to <code>a || (a = b)</code></li>
<li><code>a &amp;&amp;= b</code> transforms to <code>a &amp;&amp; (a = b)</code></li>
</ul>
<p>There is another special case when <code>a</code> is an index accessor (<code>[]</code>), it is
changed to the nilable variant (<code>[]?</code> on the right hand side:</p>
<ul>
<li><code>a[i] ||= b</code> transforms to <code>a[i] = (a[i]? || b)</code></li>
<li><code>a[i] &amp;&amp;= b</code> transforms to <code>a[i] = (a[i]? &amp;&amp; b)</code></li>
</ul>
<p>All transformations assume the receiver (<code>a</code>) is a variable. If it is a call,
the replacements are semantically equivalent but the implementation is a bit
more complex (introducing an anonymous temporary variable) and expects <code>a=</code> to
be callable.</p>
<p>The receiver can&apos;t be anything else than a variable or call.</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
<th>Overloadable</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>+=</code></td>
<td>addition <em>and</em> assignment</td>
<td><code>i += 1</code></td>
<td>no</td>
</tr>
<tr>
<td><code>&amp;+=</code></td>
<td>wrapping addition <em>and</em> assignment</td>
<td><code>i &amp;+= 1</code></td>
<td>no</td>
</tr>
<tr>
<td><code>-=</code></td>
<td>subtraction <em>and</em> assignment</td>
<td><code>i -= 1</code></td>
<td>no</td>
</tr>
<tr>
<td><code>&amp;-=</code></td>
<td>wrapping subtraction <em>and</em> assignment</td>
<td><code>i &amp;-= 1</code></td>
<td>no</td>
</tr>
<tr>
<td><code>*=</code></td>
<td>multiplication <em>and</em> assignment</td>
<td><code>i *= 1</code></td>
<td>no</td>
</tr>
<tr>
<td><code>&amp;*=</code></td>
<td>wrapping multiplication <em>and</em> assignment</td>
<td><code>i &amp;*= 1</code></td>
<td>no</td>
</tr>
<tr>
<td><code>/=</code></td>
<td>division <em>and</em> assignment</td>
<td><code>i /= 1</code></td>
<td>no</td>
</tr>
<tr>
<td><code>//=</code></td>
<td>floor division <em>and</em> assignment</td>
<td><code>i //= 1</code></td>
<td>no</td>
</tr>
<tr>
<td><code>%=</code></td>
<td>modulo <em>and</em> assignment</td>
<td><code>i %= 1</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>|=</code></td>
<td>binary or <em>and</em> assignment</td>
<td><code>i |= 1</code></td>
<td>no</td>
</tr>
<tr>
<td><code>&amp;=</code></td>
<td>binary and <em>and</em> assignment</td>
<td><code>i &amp;= 1</code></td>
<td>no</td>
</tr>
<tr>
<td><code>^=</code></td>
<td>binary xor <em>and</em> assignment</td>
<td><code>i ^= 1</code></td>
<td>no</td>
</tr>
<tr>
<td><code>**=</code></td>
<td>exponential <em>and</em> assignment</td>
<td><code>i **= 1</code></td>
<td>no</td>
</tr>
<tr>
<td><code>&lt;&lt;=</code></td>
<td>left shift <em>and</em> assignment</td>
<td><code>i &lt;&lt;= 1</code></td>
<td>no</td>
</tr>
<tr>
<td><code>&gt;&gt;=</code></td>
<td>right shift <em>and</em> assignment</td>
<td><code>i &gt;&gt;= 1</code></td>
<td>no</td>
</tr>
<tr>
<td><code>||=</code></td>
<td>logical or <em>and</em>  assignment</td>
<td><code>i ||= true</code></td>
<td>no</td>
</tr>
<tr>
<td><code>&amp;&amp;=</code></td>
<td>logical and <em>and</em> assignment</td>
<td><code>i &amp;&amp;= true</code></td>
<td>no</td>
</tr>
</tbody>
</table>

<h3 id="index-accessors">Index Accessors</h3>
<p>Index accessors are used to query a value by index or key, for example an array
item or map entry. The nilable variant <code>[]?</code> is supposed to return <code>nil</code> when
the index is not found, while the non-nilable variant raises in that case.
Implementations in the standard-library usually raise <a href="https://crystal-lang.org/api/latest/KeyError.html" target="_blank"><code>KeyError</code></a>
or <a href="https://crystal-lang.org/api/latest/IndexError.html" target="_blank"><code>IndexError</code></a>.</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
<th>Overloadable</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>[]</code></td>
<td>index accessor</td>
<td><code>ary[i]</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>[]?</code></td>
<td>nilable index accessor</td>
<td><code>ary[i]?</code></td>
<td>yes</td>
</tr>
</tbody>
</table>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="default_values_named_arguments_splats_tuples_and_overloading.html" class="navigation navigation-prev " aria-label="Previous page: Method arguments">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="visibility.html" class="navigation navigation-next " aria-label="Next page: Visibility">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Operators","level":"1.5.7.3.11","depth":4,"next":{"title":"Visibility","level":"1.5.7.3.12","depth":4,"path":"syntax_and_semantics/visibility.md","ref":"syntax_and_semantics/visibility.md","articles":[]},"previous":{"title":"Method arguments","level":"1.5.7.3.10","depth":4,"path":"syntax_and_semantics/default_values_named_arguments_splats_tuples_and_overloading.md","ref":"syntax_and_semantics/default_values_named_arguments_splats_tuples_and_overloading.md","articles":[]},"dir":"ltr"},"config":{"plugins":["ga","edit-link","offline"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"offline":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"ga":{"configuration":"auto","token":"UA-128950624-1"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"編輯此頁","base":"https://github.com/crystal-tw/docs/edit/master"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"introduction.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"links":{"contributePrefix":"https://github.com/crystal-lang/crystal-book/"},"gitbook":"3.2.2"},"file":{"path":"syntax_and_semantics/operators.md","mtime":"2020-05-20T10:34:58.866Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2020-05-20T10:35:57.575Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-offline/service-worker-registration.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

